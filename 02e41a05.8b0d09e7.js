(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{123:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"rightToc",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"default",(function(){return d}));var a=n(1),o=n(9),r=(n(0),n(151)),i={id:"favicon-os-theme",title:"Changing favicon according to OS theme",sidebar_label:"Changing favicon according to OS theme"},c=[{value:"Walk-through",id:"walk-through",children:[{value:"1. Generate the dark variant favicon files",id:"1-generate-the-dark-variant-favicon-files",children:[]},{value:"2. Add the files to the project",id:"2-add-the-files-to-the-project",children:[]},{value:"3. Install <code>react-use-system-theme</code>",id:"3-install-react-use-system-theme",children:[]},{value:"4. Use the <code>useSystemTheme</code> hook in the <code>App.js</code>",id:"4-use-the-usesystemtheme-hook-in-the-appjs",children:[]}]}],s={id:"recipes/favicon-os-theme",title:"Changing favicon according to OS theme",description:"Most operating systems now offer light and dark modes. Sometimes the default favicon does not work well in dark mode due to the lack of contrast. This recipe explains how to add a dark mode favicon variant into the project.",source:"@site/docs/recipes/favicon-os-theme.md",permalink:"/docs/recipes/favicon-os-theme",sidebar_label:"Changing favicon according to OS theme",sidebar:"docs",previous:{title:"Adding a simple REST API",permalink:"/docs/recipes/recipe-rest-api"},next:{title:"This document",permalink:"/docs/this-document"}},l={rightToc:c,metadata:s},p="wrapper";function d(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)(p,Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Most operating systems now offer light and dark modes. Sometimes the default favicon does not work well in dark mode due to the lack of contrast. This recipe explains how to add a dark mode favicon variant into the project."),Object(r.b)("h2",{id:"walk-through"},"Walk-through"),Object(r.b)("h3",{id:"1-generate-the-dark-variant-favicon-files"},"1. Generate the dark variant favicon files"),Object(r.b)("p",null,"It is recommended the use of the generator ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://realfavicongenerator.net/"}),"RealFaviconGenerator"),". Follow these steps:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Select an image (PNG, JPG or SVG). Your image should be 260x260 or more for optimal results.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},'Tweak the options just for the "Favicon for Desktop Browsers and Google Result Pages" section. Please include a UI Designer in this process for optimal results.')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"[Important]"),' At the bottom, on the "Favicon Generator Options" section go to the "Compression" tab and select "Very high quality, very low compression factor".')),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Press the button to generate the favicon package. Once the package is ready, download it to your computer."))),Object(r.b)("h3",{id:"2-add-the-files-to-the-project"},"2. Add the files to the project"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Extract the package you downloaded in the previous step and extract it to a temporary folder.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Rename ",Object(r.b)("inlineCode",{parentName:"p"},"favicon-32x32.png"),", ",Object(r.b)("inlineCode",{parentName:"p"},"favicon-16x16.png")," and ",Object(r.b)("inlineCode",{parentName:"p"},"favicon.ico")," to ",Object(r.b)("inlineCode",{parentName:"p"},"favicon-dark-32x32.png"),", ",Object(r.b)("inlineCode",{parentName:"p"},"favicon-dark-16x16.png")," and ",Object(r.b)("inlineCode",{parentName:"p"},"favicon-dark.ico")," respectively.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Copy these same files to the ",Object(r.b)("inlineCode",{parentName:"p"},"public/favicons")," folder."))),Object(r.b)("h3",{id:"3-install-react-use-system-theme"},"3. Install ",Object(r.b)("inlineCode",{parentName:"h3"},"react-use-system-theme")),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"npm install react-use-system-theme\n")),Object(r.b)("h3",{id:"4-use-the-usesystemtheme-hook-in-the-appjs"},"4. Use the ",Object(r.b)("inlineCode",{parentName:"h3"},"useSystemTheme")," hook in the ",Object(r.b)("inlineCode",{parentName:"h3"},"App.js")),Object(r.b)("p",null,"We will be using ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/zebateira/react-use-system-theme"}),"react-use-system-theme")," to get the current OS theme and conditionally render the both variants of the favicon:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'// ...\nimport useSystemTheme from \'react-use-system-theme\';\n\nexport const App = ({ Component, pageProps, router }) => {\n    useEffect(() => trackPageViews(router), [router]);\n\n    const systemTheme = useSystemTheme();\n\n    return (\n        <>\n            <Head>\n                { /*  ...seo tags */ }\n                { systemTheme !== \'dark\' && (\n                    <>\n                        <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png?v=M4KN2GElyG" />\n                        <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png?v=M4KN2GElyG" />\n                        <link rel="shortcut icon" href="/favicons/favicon.ico?v=M4KN2GElyG" />\n                    </>\n                ) }\n                { systemTheme === \'dark\' && (\n                    <>\n                        <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-dark-32x32.png?v=M4KN2GElyG" />\n                        <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-dark-16x16.png?v=M4KN2GElyG" />\n                        <link rel="shortcut icon" href="/favicons/favicon-dark.ico?v=M4KN2GElyG" />\n                    </>\n                ) }\n                { /* ...other tags */ }\n            </Head>\n            ...\n        </>\n    );\n};\n')),Object(r.b)("p",null,"Pleas note that we have duplicated some of the head tags and rendered them conditionally based on the system theme. Moreover, we have kept the same version query string (",Object(r.b)("inlineCode",{parentName:"p"},"?v=xxxxx"),") as before and for both variants."))}d.isMDXComponent=!0},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));var a=n(0),o=n.n(a),r=o.a.createContext({}),i=function(e){var t=o.a.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):Object.assign({},t,e)),n},c=function(e){var t=i(e.components);return o.a.createElement(r.Provider,{value:t},e.children)};var s="mdxType",l={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},p=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,s=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["components","mdxType","originalType","parentName"]),p=i(n),d=a,m=p[c+"."+d]||p[d]||l[d]||r;return n?o.a.createElement(m,Object.assign({},{ref:t},s,{components:n})):o.a.createElement(m,Object.assign({},{ref:t},s))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c[s]="string"==typeof e?e:a,i[1]=c;for(var d=2;d<r;d++)i[d]=n[d];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);